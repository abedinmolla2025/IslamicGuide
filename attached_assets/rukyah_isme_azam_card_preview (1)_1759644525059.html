<!doctype html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ржЗрж╕ржорзЗ ржЖржЬржо тАФ рж░рзБржХржЗржпрж╝рж╛ ржХрж╛рж░рзНржб (рж▓рж╛ржЗржн ржкрзНрж░рж┐ржнрж┐ржЙ)</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;700&family=Noto+Naskh+Arabic:wght@400;700&display=swap" rel="stylesheet">
  <style id="cardStyle">
    :root{
      --bg1: #0b3d17;
      --bg2: #1a6b2c;
      --gold: #d4af37;
    }
    html,body{height:100%;margin:0;font-family: 'Noto Sans Bengali', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background:linear-gradient(180deg,var(--bg1),#072e11);display:flex;align-items:center;justify-content:center;padding:24px}
    .card{width:360px;max-width:100%;background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.00));border-radius:18px;box-shadow: 0 10px 30px rgba(3,10,5,0.6);padding:20px;color: #f7f7f7;border: 3px solid rgba(212,175,55,0.12);overflow: hidden}
    .header{display:flex;align-items:center;gap:12px}
    .seal{width:56px;height:56px;border-radius:50%;background:linear-gradient(135deg,var(--gold),#f0d28a);display:flex;align-items:center;justify-content:center;color:#08320a;font-weight:700;font-size:22px;box-shadow:0 6px 18px rgba(0,0,0,0.4)}
    h1{margin:0;font-size:18px;color:var(--gold);font-weight:700}
    p.lead{margin:6px 0 14px;font-size:12px;opacity:0.95}
    .arabic{direction: rtl;font-family: 'Noto Naskh Arabic', serif;font-size:20px;line-height:1.6;text-align:center;padding:12px 10px;border-radius:10px;background:rgba(255,255,255,0.02);box-shadow: inset 0 -10px 30px rgba(0,0,0,0.15);margin-bottom:12px;color:#e9f7ee}
    .translit{font-size:18px;color:#fff;padding:12px 10px;border-radius:8px;margin-bottom:12px;background:linear-gradient(180deg,rgba(212,175,55,0.12),rgba(212,175,55,0.05));font-weight:800;line-height:1.6;text-shadow:0 0 4px rgba(0,0,0,0.4)}
    .meaning{font-size:14px;color:#e9f7ee;padding:12px;border-radius:8px;background:rgba(0,0,0,0.15);line-height:1.6}
    .meta{display:flex;gap:8px;margin-top:12px;align-items:center;justify-content:space-between;flex-wrap:wrap}
    .btn{background:var(--gold);color:#08320a;padding:10px 14px;border-radius:10px;font-weight:800;cursor:pointer;border:none;transition:0.3s}
    .btn:hover{background:#ffd700;color:#052a0b}
    footer{margin-top:14px;font-size:11px;opacity:0.9;text-align:center}
    /* small helper modal */
    .notice{margin-top:10px;padding:10px;background:rgba(255,255,255,0.03);border-radius:8px;font-size:13px}
    @media print{body{background:white}.card{box-shadow:none;border:none;margin:0}.btn{display:none}}
  </style>
</head>
<body>
  <div class="card" id="card">
    <div class="header">
      <div class="seal">╪з</div>
      <div>
        <h1>ржЗрж╕ржорзЗ ржЖржЬржо тАФ рж░рзБржХржЗржпрж╝рж╛ ржжрзЛржпрж╝рж╛</h1>
        <p class="lead">ржЖрж░ржмрж┐ тАв ржмрж╛ржВрж▓рж╛ ржЙржЪрзНржЪрж╛рж░ржг тАв ржмрж╛ржВрж▓рж╛ ржЕрж░рзНрже</p>
      </div>
    </div>

    <div class="arabic" id="arabicText">
      ╪з┘Д┘Д┘З┘Е ╪е┘Ж┘К ╪г╪│╪г┘Д┘Г ╪и╪г┘Ж ┘Д┘Г ╪з┘Д╪н┘Е╪п╪М ┘Д╪з ╪е┘Д┘З ╪е┘Д╪з ╪г┘Ж╪к╪М ┘И╪н╪п┘Г ┘Д╪з ╪┤╪▒┘К┘Г ┘Д┘Г╪М ╪з┘Д┘Е┘Ж┘С╪з┘Ж╪М ┘К╪з ╪и╪п┘К╪╣ ╪з┘Д╪│┘Е╪з┘И╪з╪к ┘И╪з┘Д╪г╪▒╪╢╪М ┘К╪з ╪░╪з ╪з┘Д╪м┘Д╪з┘Д ┘И╪з┘Д╪е┘Г╪▒╪з┘Е╪М ┘К╪з ╪н┘К ┘К╪з ┘В┘К┘И┘Е
    </div>

    <div class="translit" id="translitText">
      <strong>ржмрж╛ржВрж▓рж╛ ржЙржЪрзНржЪрж╛рж░ржг:</strong><br>
      ржЖрж▓рзНрж▓рж╛рж╣рзБржорзНржорж╛ ржЗржирзНржирж┐ ржЖрж╕ржЖрж▓рзБржХрж╛ ржмрж┐ржЖржирзНржирж╛ рж▓рж╛ржХрж╛рж▓ рж╣рж╛ржоржжрзБ, рж▓рж╛ ржЗрж▓рж╛рж╣рж╛ ржЗрж▓рзНрж▓рж╛ ржЖржирждрж╛, ржУржпрж╝рж╛рж╣ржжрж╛ржХрж╛ рж▓рж╛ рж╢рж╛рж░рж┐ржХрж╛ рж▓рж╛ржХрж╛, ржЖрж▓-ржорж╛ржирзНржирж╛ржи, ржЗржпрж╝рж╛ржмрж╛ржжрзАржЖрж╕рзН-рж╕рж╛ржорж╛ржУржпрж╝рж╛рждрж┐ ржУржпрж╝рж╛рж▓ ржЖрж░ржж, ржЗржпрж╝рж╛ржпрж╛рж▓-ржЬрж╛рж▓рж╛рж▓рж┐ ржУржпрж╝рж╛рж▓ ржЗржХрж░рж╛ржо, ржЗржпрж╝рж╛рж╣рж╛ржЗржпрж╝рзНржпрзБ ржЗржпрж╝рж╛ржХрж╛ржЗржпрж╝рзНржпрзБржоред
    </div>

    <div class="meaning" id="meaningText">
      <strong>ржЕрж░рзНрже:</strong><br>
      рж╣рзЗ ржЖрж▓рзНрж▓рж╛рж╣! ржЖржорж┐ рждрзЛржорж╛рж░ ржХрж╛ржЫрзЗ ржкрзНрж░рж╛рж░рзНржержирж╛ ржХрж░ржЫрж┐, ржХрж╛рж░ржг рж╕ржорж╕рзНржд ржкрзНрж░рж╢ржВрж╕рж╛ рждрзЛржорж╛рж░ржЗред рждрзЛржорж╛ ржЫрж╛ржбрж╝рж╛ ржХрзЛржирзЛ ржЙржкрж╛рж╕рзНржп ржирзЗржЗ; рждрзБржорж┐ ржПржХ, рждрзЛржорж╛рж░ ржХрзЛржирзЛ ржЕржВрж╢рзАржжрж╛рж░ ржирзЗржЗред рждрзБржорж┐ ржжрж╛рждрж╛ (ржЖрж▓-ржорж╛ржирзНржирж╛ржи), рж╣рзЗ ржЖржХрж╛рж╢ржоржгрзНржбрж▓рзА ржУ ржкрзГржерж┐ржмрзАрж░ рж╕рзГрж╖рзНржЯрж┐ржХрж░рзНрждрж╛, рж╣рзЗ ржорж╣рж┐ржорж╛ ржУ ржорж░рзНржпрж╛ржжрж╛рж░ ржЕржзрж┐ржХрж╛рж░рзА, рж╣рзЗ ржЪрж┐рж░ржЮрзНржЬрзАржм, ржЪрж┐рж░рж╕рзНржерж╛ржпрж╝рзАред
    </div>

    <div class="meta">
      <button class="btn" id="printBtn">ЁЯУД ржкрзНрж░рж┐ржирзНржЯ / Save as PDF</button>
      <button class="btn" id="imgBtn">ЁЯЦ╝я╕П Save as Image</button>
      <div style="font-size:12px;opacity:0.95">ржорзБржарзЛржлрзЛржирзЗ ржкрзЛрж░рзНржЯрзНрж░рзЗржЯ ржорзЛржбрзЗ ржжрзЗржЦрзБржи</div>
    </div>

    <div class="notice">ржпржжрж┐ ржХрзЛржи ржмрж╛ржЯржи ржмрзНрж▓ржХ ржХрж░рзЗ (pop-up blocked) тАФ ржирж┐ржЪрзЗрж░ ржмрж┐ржХрж▓рзНржк ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи: ржмрзНрж░рж╛ржЙржЬрж╛рж░ ржорзЗржирзБ тЖТ Share/Print тЖТ Save as PDF ржЕржержмрж╛ Save Imageред</div>

    <footer>ржкрзНрж░рж╕рзНрждрзБржд: рждрзЛржорж╛рж░ рж░рзБржХржЗржпрж╝рж╛ ржХрж╛рж░рзНржб тАв ┬й ржЗрж╕рж▓рж╛ржорж┐ржХ рж╕рзНржорзГрждрж┐</footer>
  </div>

  <script>
    // Robust print: open new window with inline styles. If popup blocked, show alert with fallback instructions.
    function printCard(){
      try{
        const style = document.getElementById('cardStyle').textContent;
        const html = `<!doctype html><html><head><meta charset="utf-8"><title>Print - рж░рзБржХржЗржпрж╝рж╛ ржХрж╛рж░рзНржб</title><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;700&family=Noto+Naskh+Arabic:wght@400;700&display=swap" rel="stylesheet"><style>${style} body{display:flex;align-items:center;justify-content:center;padding:20px;background:transparent}</style></head><body>${document.getElementById('card').outerHTML}</body></html>`;
        const w = window.open('','_blank');
        if(!w){
          alert('Pop-up blocked. ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗрж░ рж╕рж╛ржЗржЯ рж╕рзЗржЯрж┐ржВрж╕рзЗ pop-ups allow ржХрж░рзБржи ржЕржержмрж╛ ржмрзНрж░рж╛ржЙржЬрж╛рж░ ржорзЗржирзБржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ Print тЖТ Save as PDF ржХрж░рзЗ ржирж┐ржиред');
          return;
        }
        w.document.open(); w.document.write(html); w.document.close();
        // ensure fonts load
        w.onload = ()=>{ w.focus(); setTimeout(()=>{ w.print(); /* don't auto-close, give user choice */ },200); };
      }catch(e){
        console.error(e);
        alert('Print function failed тАФ ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржмрзНрж░рж╛ржЙржЬрж╛рж░ ржорзЗржирзБ ржерзЗржХрзЗ Print тЖТ Save as PDF ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред');
      }
    }

    // Save as image: try to render SVG with inline styles; fallback: open SVG in new tab for manual save
    async function downloadCardPNG(){
      try{
        const el = document.getElementById('card');
        const style = document.getElementById('cardStyle').textContent;
        const width = Math.round(el.offsetWidth);
        const height = Math.round(el.offsetHeight);
        const outer = el.outerHTML;
        const svg = `<?xml version="1.0" encoding="utf-8"?>\n<svg xmlns='http://www.w3.org/2000/svg' width='${width}' height='${height}'>\n  <foreignObject width='100%' height='100%'>\n    <div xmlns='http://www.w3.org/1999/xhtml'>\n      <style>body{margin:0;padding:0;} ${style}</style>\n      ${outer}\n    </div>\n  </foreignObject>\n</svg>`;

        const blob = new Blob([svg], {type: 'image/svg+xml;charset=utf-8'});
        const url = URL.createObjectURL(blob);

        // try to render to canvas
        const img = new Image();
        img.onload = ()=>{
          try{
            const canvas = document.createElement('canvas');
            canvas.width = width*2; canvas.height = height*2; // high res
            const ctx = canvas.getContext('2d');
            // background fill
            ctx.fillStyle = '#0b3d17'; ctx.fillRect(0,0,canvas.width,canvas.height);
            ctx.drawImage(img,0,0,canvas.width,canvas.height);
            URL.revokeObjectURL(url);
            const a = document.createElement('a');
            a.download = 'IsmeAzam_Ruqyah_Card.png';
            a.href = canvas.toDataURL('image/png');
            a.click();
          }catch(err2){
            console.error('Canvas draw failed', err2);
            // fallback: open svg blob in new tab
            window.open(url, '_blank');
            alert('Direct image export ржмрзНржпрж░рзНрже рж╣ржпрж╝рзЗржЫрзЗ тАФ ржирждрзБржи ржЯрзНржпрж╛ржмрзЗ ржЫржмрж┐ ржЦрзЛрж▓рж╛ рж╣ржпрж╝рзЗржЫрзЗ, рж╕рзЗржЦрж╛ржирзЗ long-press -> Save image ржХрж░рзБржиред');
          }
        };
        img.onerror = ()=>{
          // fallback: open svg in new tab
          window.open(url, '_blank');
          alert('Image conversion blocked by browser тАФ ржирждрзБржи ржЯрзНржпрж╛ржмрзЗ ржЦрзБрж▓рзЗ long-press ржХрж░рзЗ "Save image" ржмрж╛ ржмрзНрж░рж╛ржЙржЬрж╛рж░ ржорзЗржирзБ ржерзЗржХрзЗ Save ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржиред');
        };
        img.src = url;
      }catch(e){
        console.error(e);
        alert('Image save ржмрзНржпрж░рзНрже рж╣ржпрж╝рзЗржЫрзЗ тАФ ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржмрзНрж░рж╛ржЙржЬрж╛рж░ ржорзЗржирзБ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи (Share тЖТ Save image ржмрж╛ Print тЖТ Save as PDF)ред');
      }
    }

    document.getElementById('printBtn').addEventListener('click', printCard);
    document.getElementById('imgBtn').addEventListener('click', downloadCardPNG);
  </script>
</body>
</html>
